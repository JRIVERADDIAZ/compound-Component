"use strict";(self.webpackChunkuvu_app=self.webpackChunkuvu_app||[]).push([[342],{342:function(t,e,r){r.r(e),r.d(e,{ShoppingCart:function(){return j},default:function(){return x}});var n=r(152),o=[{id:"1",title:"Product 1",img:"https://picsum.photos/200/300"},{id:"2",title:"Product 2",img:"https://picsum.photos/200/300"}],c=r(791),u=r(184),i=(0,c.createContext)({}),s=i.Provider,l=function(t){var e,r=t.img,n=t.className,o=t.styles,s=(0,c.useContext)(i).product;return e=r||(s.img?s.img:""),(0,u.jsx)("img",{src:e,className:n,alt:"product",style:o})},a=function(t){var e=t.title,r=t.className,n=t.styles,o=(0,c.useContext)(i).product;return(0,u.jsx)("span",{className:"".concat(r),style:n,children:e||o.title})},p=function(t){var e=t.className,r=t.styles,n=(0,c.useContext)(i),o=n.counter,s=n.increaseBy;return(0,u.jsxs)("div",{className:" ".concat(e),style:r,children:[(0,u.jsx)("button",{onClick:function(){return s(1)},children:" + "}),(0,u.jsx)("div",{children:o}),(0,u.jsx)("button",{onClick:function(){return s(-1)},children:" - "})]})},f=Object.assign((function(t){var e=t.children,r=t.product,o=t.className,i=t.styles,l=function(t){var e=t.onChange,r=t.product,o=t.value,u=void 0===o?0:o,i=(0,c.useState)(u),s=(0,n.Z)(i,2),l=s[0],a=s[1],p=(0,c.useRef)(!!e);return console.log("isControles",p),(0,c.useEffect)((function(){a(u)}),[u]),{counter:l,increaseBy:function(t){if(p.current&&e)return e({count:t,product:r});var n=Math.max(l+t,0);return a(n),e&&e({count:n,product:r})}}}({onChange:t.onChange,product:r,value:t.value}),a=l.counter,p=l.increaseBy;return(0,u.jsx)(s,{value:{counter:a,increaseBy:p,product:r},children:(0,u.jsx)("div",{className:o,style:i,children:e})})}),{Title:a,Image:l,Increase:p});function d(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},c=Object.keys(t);for(n=0;n<c.length;n++)r=c[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(n=0;n<c.length;n++)r=c[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function b(t){var e=function(t,e){if("object"!==y(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===y(e)?e:String(e)}function v(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var g=function(){var t=(0,c.useState)({}),e=(0,n.Z)(t,2),r=e[0],o=e[1];return{shoppingCart:r,onProductCountChange:function(t){var e=t.count,r=t.product;o((function(t){var n=t[r.id]||m(m({},r),{},{count:0});if(Math.max(n.count+e,0)>0)return n.count+=e,m(m({},t),{},v({},r.id,n));var o=r.id;t[o];return d(t,[o].map(b))}))}}},j=function(){var t=g(),e=t.shoppingCart,r=t.onProductCountChange;return(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{children:" Shopping Store "}),(0,u.jsx)("hr",{}),(0,u.jsx)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"}}),o.map((function(t){var n;return(0,u.jsxs)(f,{product:t,styles:{backgroundColor:"#212122"},onChange:r,value:(null===(n=e[t.id])||void 0===n?void 0:n.count)||0,children:[(0,u.jsx)(l,{styles:{boxShadow:"10px 10px 10px rgba(0,0,0,0.5)"}}),(0,u.jsx)(a,{styles:{color:"#fff"}}),(0,u.jsx)(p,{styles:{backgroundColor:"#212122"}})]},t.id)})),(0,u.jsx)("div",{className:"shopping-cart",children:Object.entries(e).map((function(t){var e=(0,n.Z)(t,2),o=e[0],c=e[1];return(0,u.jsxs)(f,{product:c,onChange:r,value:c.count,styles:{width:"100px"},children:[(0,u.jsx)(l,{styles:{boxShadow:"10px 10px 10px rgba(0,0,0,0.5)"}}),(0,u.jsx)(a,{styles:{color:"#fff"}}),(0,u.jsx)(p,{styles:{backgroundColor:"#212122"}})]},o)}))}),(0,u.jsx)("div",{children:(0,u.jsx)("code",{children:JSON.stringify(e,null,5)})})]})},x=j}}]);
//# sourceMappingURL=342.08f76930.chunk.js.map